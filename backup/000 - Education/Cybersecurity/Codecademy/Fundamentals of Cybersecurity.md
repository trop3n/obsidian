## Impacts of Cybersecurity Breaches

> Potential impacts of data breaches. These impacts can range from ongoing cybersecurity concerns to reputational damage for the organization which suffered the breach. We’ll also be discussing how data breaches relate to other cybersecurity concepts.

Breaches, exfiltration and data loss

> Data Breach, Data Exfiltration and Data Loss sound similar and are often used interchangeably outside of cybersecurity. 

- Data Breach refers to any unauthorized access to data, intentionally or accidentally.
    
- Data Exfiltration refers to the intentional and unauthorized transfer of data to an external source.
    
- Data Loss is when data becomes unavailable, either temporarily or permanently.
    

Damages caused by Data Breaches

> Don’t just have consequences for the breached organization, they can have severe consequences for those individuals whose data was breached. These individuals can becomes victims of identity theft, fraud, account takeovers and more. 

> Suffering any type of data breach is a bad look. Even minor breaches can erode the organziations’ reputation and trust among clients and incur financial penalties from regulatory bodies. More severe breaches can result in larger reputational and financial loss.

> Mishandling an incident can cause the damage worse.

  

Prevention and Response

> Even if an organization does everything right, it’s still possible for them to suffer a data breach if previously-unknown vulnerabilities are exploited. Fortunately, most breaches are preventable and make use of known vulnerabilities.

> Taking a holistic approach to security in order to prevent incidents as well as be ready to perform incident response when incidents do occur.

### Common Cybersecurity Roles

#### Discipline 1: Incident Response (High Technicality Level)

> consists of the activities and response procedures from the moment a data breach is suspected all through the post incident response closure.

> typically work as part of a team within an organization to handle all aspects of major cybersecurity incidents. According to NIST, effective incident response involves the following steps. 

- Preparation
- Detection and Analysis
- Containment
- Eradication and Recovery
- Post-Incident Activities

> examples of cybersecurity incidents that IR professionals will be called up to handle include, but are not limited to:

- Data exfiltration 
- Ransomware
- DDoS 
- Malicious code

Job Titles

- Cyber Incident Response Analyst
- Incident Response Consultant
- Cyber Detection Analyst
- Insider Threat Analyst

> IR roles are typically responsible for detecting and assessing cyber threats and incidents. Often works alongside other analysts. 

Required Skills:

- Understanding of various security methodologies, processes and technical security solutions (i.e. firewalls, proxies, and intrusion detection systems)
- Strong OS knowledge
- Background using forensic analysis tools

Commonly Held Certifications:

- CISSP
- GCIH
- GCFE
- GCFA

#### Discipline 2: Governance, Risk and Compliance

> Develop plans, policies and procedures as well as assess risk and monitor compliance with regulatory requirements. Often use regulatory frameworks (NIST Cybersecurity Framework, ISO 27001, COBIT, FFIEC)

**Job Titles**

- Cyber GRC Analyst
- Cyber GRC Consultant
- Cyber GRC Advisor
- Information Security Risk Analyst
- Information Security Risk and Compliance Analyst

**Responsibilities**

> Work cross-functionally with other information security teams and monitor risks to the business. Ensure that legal and regulatory requirements regarding cybersecurity and data privacy are understood and managed. Conduct risk assessments and that assess security controls across different domains.

- Knowledge of regulatory and nonregulatory frameworks such as NIST, ISO, COBIT, DFS, FFIEC etc.
- Understanding of various security methodologies, processes, and technical security solutions, although deep technical expertise is not needed.
- Effective project and time management, as well as sharp analytical and communication skills.

  

Commonly Held Certifications

- CISSP
- CISM
- CISA
- PMP (Project Management Professional)

#### Discipline 3: Threat Intelligence (Moderate Technical Ability)

> Threat intelligence professionals help an org identify and mitigate potential threats and vulnerabilities in its operations. Often conduct digital forensics analysis and adversary targeting in order to identify, monitor, assess and respond to cyber threats.

Job Titles:

- Cyber Threat Intelligence Analyst
- Security Researcher
- Threat Hunter
- Cybercrime Analyst
- Cyber Threat Investigator

Responsibilities

> responsible for providing strategic, tactical and operational analysis before or during ongoing incidents. They will collect and analyze threat information from various sources and then convert that into finished reports and assessments. 

Required Skills:

- Keen analytical skills and an ability to synthesize complex information from a variety of disparate sources.
- Knowledge of advanced persistent threats and key threat intelligence models such as MITRE is also highly recommended and sought after by hiring managers. 

Commonly Held Certifications

- CISSP
- GREM
- GCFE
- CISA

#### Discipline 4: Security Operations

> Specialists in this domain often design implement, operate, and maintain cybersecurity controls. The primary purpose of security operations personnel is to safeguard assets including information, systems, devices and facilities. Patch and vulnerability management, as well as configuration management.

**Job Titles**

- Security Operations Analyst
- Information Security Engineer
- Security Operations Center (SOC) Analyst
- Cloud Security Engineer

**Responsibilities**

> Security Operations Analysts are typically responsible for security monitoring and incident management. They are also involved in the design, development and implementation of software to optimize security operations. They perform reviews of all systems and applications, monitor security logs, and report any security concerns to senior memes of the security operations team. 

**Required Skills:**

- Well versed in technical infrastructure of an organization
- Have a solid understanding of security concepts applied to various operating systems, apps, networking, cloud and mobile devices
- Knowledge of SIEM, familiarity with attack frameworks and mitigation are also valuable skills to have for these types of roles
- May be necessary depending on role: Network Operations and Architecture, Operating Systems, Identity and Access Management, Programming, Cloud Computing, Databases, Cryptography
    

**Commonly Held Certifications:**

- CEH (Certified Ethical Hacker)
- CompTIA Security+
- GSEC (GSEC)
- CISSP
- CISM

#### Discipline 5: Offensive Security

> Often referred to as cybersecurity testers, these are individuals who hack into systems to find problems. They look for security gaps and vulnerabilities before an attacker does. Offensive cyber security teams actively test the networks defenses and provide valuable insights through technical findings and remediation reports.

**Job Titles**

- Pen Testers
- Threat Hunter
- Red Teamer
- Cybersecurity Tester
- Exploit Developer
- Ethical Hacker (White Hat)
- Vulnerability Researcher

**Responsibilities**

- Possess deep technical knowledge of cybersecurity concepts
- Have coding and programming skills as pen testing often requires specialized tools and techniques
- Familiarity and knowledge of offensive security tools and frameworks such as Metasploit, BurpSuite and CoreImpact is often required.
- Ability to articulate complex technical findings to different audiences in the form of written reports.

**Commonly Held Certifications**

- CEH (Certified Ethical Hacker)

Discipline 6: Data Privacy & Protection

> Data privacy professionals ensure an organization is in compliance with applicable privacy laws and regulations. They do so by knowing where an organization’s most sensitive data lies and how to properly secure it. 

**Job Titles**

- Data Privacy Analyst
- Data Privacy Consultant
- Data Privacy Officer
- Privacy and Compliance Analyst

**Required Skills**

- Strong research, writing, analytical and critical thinking skills as well as project management capabilities.
- Knowledge of basic privacy laws, regulations and control frameworks (CCPA, GDPR) is often desired. 

**Commonly Held Certifications**

- CIPP/US
- CIPM
- CIPT

### The Principles of Social Engineering

> Like hacking, social engineering has core principles applied in various ways to manipulate a target. While the core principles in hacking exploit the design of our technologies, the principles used in social engineering exploit our cognitive biases and social norms.

**Principle 1: Consensus**

> Consensus, also known as social proof, is when a social engineer convinces victims that others have already trusted them. Some examples are fake website reviews on social media, forged work orders, using deep fake tech to impersonate someone over the phone. 

**Principle 2: Familiarity**

> Familiarity refers to a social engineer using charisma and likeability to get a victim to complete a request. Familiarity is often as simple as striking up a friendly conversation with a victim before making a request. This is more effective if the social engineer is or appears to be in the victim’s “in-group” For example, striking up a conversation with a security guard about the struggles of night shift or manipulating an inexperienced receptionist by pretending it is your first day and you forgot your badge. 

**Principle 3: Urgency**

> Urgency, also known as Scarcity, refers to a social engineer creating a sense of hurry to put time pressure on a victim. Creating a sense of urgency discourages the victim from thinking critically about the request while also making them feel like they are helping someone in need. 

**Principle 4: Authority**

> Authority, or Intimidation, is a high-risk strategy in which a social engineer attempts to intimidate a victim or claim authority over them. While usually more subtle than “Don’t you know who I am”, Intimidation is not a subtle strategy. Authority can be combined with Consensus for added weight. 

**Phishing**

> One of the most well known types of cyberattacks. Phishing is common because it works. No matter how secure technical controls are in a system, humans can still be hacked. 

Different Types of Phishing 

- *Vishing* - voice phishing. Refers to the spam calls in which an attacker claims to be from a victim’s bank or law enforcement and tries to extract information.
- *Smishing* - SMS phishing. Attempting to do the same over text message, by sending malicious links. 

> Sometimes an attacker has a particular person in mind to phish. This is called spear phishing.

> If that target is someone high up in a company like a CEO, that is called whaling. 

**How Does Phishing Work?**

1. Embed a .pdf or Word document with malicious code
2. Attach it to a phishing email
3. Social engineer a user into opening it, executing the malicious code

**Email Spoofing**

> Falsifying an email header to make the email appear as if it’s from someone else. A common component of phishing attempts. 

> when you write and send an email using a programming script, you can configure the email headers to be whatever you want - meaning the attacker can put any email as the “sender”, even yours. 

> using “Inspect Element” or “Show Original” can show you valuable information such as the ‘return-to” address, sender IP, and whether the email failed any protections such as SPF and DKIM, which help to fight spoofing. 

### Not Just Emails: Webpages that Steal Your Password

> Webpages that harvest credentials are especially effective phishing tools. Because these pages often forward victims to a legitimate webpage after stealing their login information, the user never realizes they were phished. These webpages can also encourage you to download malware unknowingly.

> “typo-squatting” is registering a domain name that is similar to a popular or high-traffic site that someone may misspell when navigating to. 

Prepending - involves altering the subject line, or attaching a message to the email, that says something like “RE:” or MAILSAFE:PASSED” in order to make it appear that 

- We have already been communicating with the sender
- Or, the email passed the spam filter

**Social Engineering and URLs**

> A strategy known as pharming refers to when a social engineer redirects victims from a legitimate website to their malicious website instead. This generally involves tampering with DNS information for a computer, network or a larger portion of the internet. Pharming can be done by making the name resolution process point to a different IP address. A popular use of this is to harvest banking credentials from unsuspecting victims.

> Typosquatting is when an attacker will register a domain very similar to an existing legitimate website, then wait for people to visit the malicious domain. For example, an attacker might register codeAcademy.com to trick users who are trying to visit codecademy.com. 

**Identity Fraud**

> Identity fraud is not just used for financial gain, it can also be used by social engineers to more convincingly impersonate a victim, either by posing as the victim to mislead others or to gain additional access to the victim’s accounts and resources. 

> invoice scams are where an attacker alters details on an invoice to steal money. One form of invoice scam involves using social engineering to pose as an employee of one organization and sending fraudulent invoices to other companies. 

**Credential Harvesting**

> When an attacker obtains, or harvests, a victim’s credentials. This can be targeted at a specific user, as part of a multi-stage attack, but credentials are often stolen from many users at once, usually for financial gain. 

**Physical Social Engineering Strategies**

> Physical access to a target opens a world of new possibilities for an attacker, and sometimes obtaining physical access can be easier than breaking in using technology.

> Tailgating refers to the act of following someone through a secure door before that door can close. 

> Dumpster Diving is, exactly as it sounds, the process of going through trash to obtain sensitive information. While this might sound ridiculous, it’s more common than you might think. 

> Shoulder Surfing refers to the act of looking over someone’s shoulder as they type their password. While this does take practice, it is a very effective way of obtaining credentials.

**Influence Campaigns**

> Influence campaigns seek to shift public opinion on social issues, often on a massive scale. Usually carried out in bad faith and often seek to push a false narrative. Carried out by groups with high levels of capability, sometimes nation-state actors. 

**Why are Influence Campaigns Used?**

> They seek to operate below a threshold to trigger an aggressive response. This applies to rival nations as well as rival businesses. Openly attacking an adversary usually results in consequences, but secretly turning public opinion against them is harder to prove and harder to retaliate against. 

**Social Media Manipulation**

> Social media by it’s very nature allows influence campaigns to target those they wish to influence more effectively. Techniques such as Astroturfing, where an influence campaign is disguised as a grass-roots movement, are used to influence public opinion by making it appear that other members of the public are presenting the opinion.

**In Combination with Other Tactics**

> Influence Campaigns can be even more effective when paired with espionage and hacking. In these cases, the campaign is more about providing a distraction or cover for other more aggressive techniques. Painting a target as the enemy may make justification easier for the public and make the target seem like they deserved it.

**Review:**

*Malware*: malicious code inserted into a system to cause damage or gain unauthorized access

*Adware:* Unwanted software design to throw advertisements on your screen

*Virus:* A malicious self-replacing application that attaches itself to other programs and executables without permission of the user. 

**Other Cyber Attacks**

> Some types of cyberattacks are more complicated than others. These are some of the more complicated ones.

**Supply Chain Attacks**

> In cybersecurity, there is a concept known as pivoting, where an attacker will compromise one computer, then use that computer to compromise another computer. Supply chain attacks are the same idea, but with organizations instead of single computers. 

- Targeting a harder, more secure target by hacking another weaker party somewhere down the target organization’s supply chain. E.g. vendors, software providers

**Adversarial AI attacks**

> AI can be very useful in Cybersecurity, but also used for more nefarious purposes like identifying vulnerabilities and methods of circumventing security. This is known as adversarial AI.

**Machine Learning** 

> Some types of machine learning allow us to create algorithms that cannot practically be manually programmed. However, these algorithms have a downside: we don’t really understand how they make decisions. 

- Even though the decisions are accurate, it’s difficult to determine the algo’s thought process.

**Tainted Training Data**

> Machine Learning algos require training data to learn how to function. If we want an algorithm to tell cats from dogs, we are going to need a lot of pictures of both. This introduces an opportunity for malicious actors to influence the algorithm: by modifying the data used to train the algorithm, they can modify how the resulting algorithm will function. 

- This is known as tainted training data.

> Even data that hasn’t been tampered with can be harmful. It’s easy for unconscious biases and unintentional oversights to create training data that is biased in a harmful way. 

- Image recognition algorithms that offensively mislabel people of color
- Resume-assessment algorithms that are biased against women

**AI vs. AI**

> The best way to trick a machine learning algorithm is by using another machine learning algorithm.

> Image recognition algos are used in autonomous vehicles, surveillance and authentication.

> other algorithms can be fooled too, including the algorithms used to detect suspicious behavior on computers or networks.

### Binary Application Attacks

> Discuss attacks that target **binary applications.**
> 	Basics of computer memory, and how it can be exploited to get programs to misbehave

#### Memory 101

**Random Access Memory** is where a computer stores everything that it's currently "thinking" about, in the form of a sequence of bytes. The text you're reading right now is somewhere in your computer's RAM, but so are the *processor instructions* that make up the browser you're using to read it, and the operating system the browser is running on.

Each of these bytes has a unique address, and in most cases, there isn't a distinction made between what bytes are data and what bytes are instructions for the computer to follow.

- When you create a variable in a program, you are telling the computer to allocate a little part of its memory for that variable when the program runs.

#### Pointers

A **pointer** is a variable that stores the address of another variable.

Most programming languages don't require you to worry about pointers, but some, like **C** and **C++**, do. 
- Just because you don't need to worry about pointers while programming doesn't mean they aren't used "under the hood" of the language.

Pointers can be *dereferenced*, which is the process of reading the value at the address the pointer points to. 

- For example, imagine you have a row of boxes, numbered zero to seven. Box one contains the value `7`, and box seven contains the number `36`. 
- Reading the contents of box one gives you `7`, but dereferencing box one gives you `36`.

A *null pointer* is a pointer that points to nohing.

This is not the same as a pointer pointing to a variable with a value of 0: a pointer to a value of 0 is like being handed a paper with 0 written on it, and a null pointer is like being handed nothing.

Attempting to dereference a null pointer will usually cause a crash, but can sometimes allow for *arbitrary code execution*.

### Messing With Memory

#### Memory Leaks

Computers have a finite amount of memory, so it's important to be efficient. 

If everything is working properly, programs will deallocate memory that they no longer need, but sometimes things go wrong. A *memory leak* occurs when allocated memory is not being released when it's no longer being used.

> This can cause a program to consume more and more memory over time, until no more are available, causing a crash.

**Memory Leaks** are an example of *resource exhaustion*, where a computer runs out of finite resources, disk capacity, network capacity, etc.

Denial of Service (DoS) attacks are examples of resource exhaustion.

#### Overflow attacks

Not all of our data fits neatly into a single byte, which is why it's important to be able to handle larger quantities of data. 

One method used for this is a buffer: a section of memory allocated by a program to store data in. If a program knows it's going to receive 10 bytes of data, it can allocate a 10-byte buffer to store that data.

**What happens if a buffer receives more than it can handle?**

- In the worst case scenario, a *buffer overflow* happens, where data continues to be written outside of where it should be. 
- Recall that computer memory contains not only data but also the instructions executed by the processor.
- If a program writes outside its buffer, it may unintentionally overwrite its own code, leading to unexpected behavior.

> This can be used for a **buffer overflow attack**. 
> 	Unlike buffers, integers are a finite size, but this doesn't mean they can't overflow. 

Integers have upper and lower limits on the numbers they can store, based on how many bytes they use and how they are interpreted. 

Trying to store a number larger than the maximum will cause the number to "wrap around" and start again from the lowest value. A clever attacker can exploit this to cause unintended behavior in programs.

### DLL Injections

A *dynamic link library (DLL)* is a file that contains instructions that other programs can use. This is very useful for programmers, as it means they don't have to write all their programs from scratch: they can use DLLs that implement the functionality they need.

Unfortunately, not all DLLS are trustworthy. **DLL Injection** is when an attacker is able to attach a malicious DLL to a legitimate program. As far as the program knows, the DLL is harmless, when in reality it's doing the attackers' bidding while masquerading as part of the legit program.

Antivirus software is well aware of malicious DLLs, so attackers will attempt to evade detection by _refactoring_ their DLLs so that they don’t match the antivirus’s signatures for known malicious files.

DLLs are also used to maintain compatibility with legacy applications via a process known as shimming, where a DLL is injected into a program to ‘translate’ outdated function calls into ones supported by the current operating system. This is a popular way of injecting malicious DLLs into a program.

# Cryptographic Attacks

> Cryptography is a crucial part of modern security, so it's no wonder hackers have spent so much time thinking about how to bypass it. Cryptographic attacks are attacks that attempt to bypass security measures that rely on cryptography.

- Some of these attacks target the implementation of cryptography, while others take advantage of the math itself. 

### Exploiting the Math

#### Hash Collisions

If you have 5 pigeons and 4 pigeonholes for them to nest in, at least two of the pigeons are going to have to share. 

This is an example of the **pigeonhole principle**, a simple but powerful mathematical principle that says if you have N pigeonholes and more than N pigeons, you can't give each pigeon it's own hole.

**Hashing algorithms** have *fixed length outputs*. SHA-256, for example, always produces a 256-bit output. 

However, hashing algorithms don't generally have limits on the size of their inputs, at least practically speaking.

- What this means is that there are more inputs (pigeons) than there are outputs (pigeonholes), and therefore there must be outputs that can result from more than one input.
- When a hashing algoritms produces the same output for two separate inputs, this is known as a **hash collision**.

*In general, the larger the output size of a hashing algorithm, the harder it is to find hash collisions in that algorithm.*

### Birthday Attacks

Imagine you're looking for a hash collision. If you're looking for a hash collision that produces a specific output, it's going to be harder to find than a hash collision that produces any output. 

A **birthday attack** is a method of forging digital signatures that exploit this property of hash collisions. 

- If you have a legit file and are trying to find a malicious file with the same hash, it will be easier if you have multiple, slightly different versions of the legitimate file that produces different hashes.

## Exploiting the Implementation

> A door is only as strong as the frame that it's mounted on. 

While some types of cryptography can be attacked mathematically, it's often much easier to just "go around" the cryptographic security altogether. 

### SSL Stripping

> HTTPS is a version of the HTTP protocol that is secured by SSL. A clever attacker can downgrade a connection from HTTPS to insecure HTTP, in what is known as **SSL Stripping.**

- This allows the attacker to bypass the security implemented by HTTPS.

SSL Stripping is *fairly easy to prevent*, by configuring browsers and servers to refuse standard HTTP connections and only use HTTPS. 

- The *HTTP Strict Transport Security (HSTS)* header is one tool that servers can use to prevent SSL stripping.

### Session Replay Attacks

**Session replay attacks** are where an attack "replays" stolen information. For example, if an attacker is able to intercept a communication where you log into your bank, they might be able to resend the same information and get into your bank account, even if they didn't know your credentials. 

Preventing session replay attacks can involve *timestamping requests*, *identifying suspicious information in a request, or ensuring that each request is unique in some way*, and is only valid once. 

### Pass the Hash Attacks

> Properly stored passwords are stored as salted hashes and are very difficult to crack. 

To check if an entered password is correct, it is run through the same process, and compared to the hash for the correct password. 

If they match, the password is correct, but what if an attack is able to steal the correct hash?

> Most systems won't be vulnerable to simply entering the correct hash in the password field, since it would get hashed again and produce a different result. 
> 	However, some systems do accept hashes as authentication credentials.
> 		This is known as a **pass the hash attack** and is often used to log onto other computers within a compromised network. 

Another example of this vulnerability would be if a website failed to use a secure connection for authentication, and *hashed the user's password client-side.*

- An attacker would be able to intercept the hash from the unencrypted traffic and use the same hash to log in at their leisure. 

*Pass the hash attacks are only possible if the attacker is able to obtain the hash.*

- If an attacker has local admin access on a computer, for example, they would be able to steal the hashes for user accounts on that computer, and potentially use them to log into other computers. 

### Initialization Vectors

An **initialization vector**, also known as a **nonce**, (number only used once), is a vlaue that sets the initial state of a cryptographic algorithm. 

- In a well designed system, the IV will be difficult to predict, since a predictable IV means a predictable output from the cryptographic algorithm.

An **initialization vector attack** is where an attacker is able to predict the IV used for encryption, allowing them to defeat the encryption and access supposedly secure data. 

# Wireless Attacks

> Wireless communications are great for convenience because they make it much easier to move around with our devices, while still remaining connected. 

Unfortunately, they also make it easy for attackers to target our networks. With a wired network, an attacker would need physical access to tamper with it, but with wireless networks, they can do it from across the street.

We'll learn about attacks targeting or involving wireless communication technologies such as **Wi-Fi, Bluetooth, RFID chips and more.**

### Wi-Fi Attacks

> Wi-Fi is essentially a wireless analog to an ethernet cable. Its primary use is to connect endpoints such as computers or tablets, to a router via a wireless access point. Most routers used in the home are *wireless routers* , which function as both a router and wireless access point.

#### Evil Twin Attacks

An *evil twin attack* is where an attacker will create a malicious Wi-Fi network that looks legitimate. 

- For example, an attacker might go to a coffee shop that provides free Wi-Fi, then up their wireless access point with a very similar name to the coffee shop's network. 
- Any unencrypted traffic passing the attacker's access point can be intercepted by the attacker, making it very useful for *man-in-the-middle attacks* aka **on-path attacks.**

It's also possible to create a network that has the exact same name as a legitimate network, and devices will usually try to connect to the stronger access point.

#### Rogue Access Points

> A **rouge access point** is a device connected to a network that has not been approved by the network's administrator.

This can be any device, from an employee's personal phone to a malicious backdoor installed by an attacker who gained physical access to an ethernet port on the network.

### Wi-Fi DoS Attacks

> A **Wi-Fi disassociation attack** is when an attacker breaks the connection between a victim and a wireless access point. This type of attack involves an attacker posing as the victim, and sending a message to the wireless access point telling it to disassociate from the victim device. 

- This is a type of **Denial of Service attack**.

Wi-Fi uses radio waves to communicate wirelessly, and these radio waves are susceptible to electromagnetic interference. 

_Jamming_ is when an attacker purposefully uses this interference to interfere with victims’ connections, and such attacks can completely block communication over a channel.

> Purposefully using electromagnetic interference to jam communications is _spectacularly_ illegal, and will likely incur the wrath of the FCC (or local equivalent), as well as local hobbyist radio operators.

### Attacks Involving Short Range Communication

#### Bluesnarfing and Bluejacking

> Bluetooth is a technology used for short-range wireless communication. It is commonly used by wireless peripherals such as headphones or computer mice to connect to smartphones and computers. 

Bluetooth devices need to be able to find each other in order to work, but this can be exploited by attackers in a technique known as *bluesnarfing*. 

- **Bluesnarfing** involves looking for Bluetooth devices operating in discovery mode, and attempting to exploit vulnerabilities in OBEX, a protocol for exchanging data between wireless services, to steal data from the targeted device.
- It's also possible for attackers to *send data* to a victim's device. *Bluejacking* usually involves sending unsolicited messages to a victim's phone.

#### RFID

*Radio-Frequency Indentification* uses radio waves to transmit information from a "tag" that stores the information, to a "reader" that retrieves the information from a tag. 

- RFID tags come in both passive and active varieties:
	- Passive tags have no power source of their own, and instead use power transferred by the reader to transmit their information
	- Active tags contain their own power source. Can read from up to a hundred meters away.

RFID is generally used for tracking or identifying things, like shipments, animals, toll-tags for cars, or ID cards.

#### NFC

*Near-Field Communication* is similar to RFID in that it is very short range method of wireless communication, limited to only a few centimeters. 

Unlike RFID, NFC can work bidirectionally: a phone, for example, can send or receive data rather than being limited to one or the other. 

NFC can be used for:

- making payments
- sharing information
- authentication
- even used in some toys

Both *RFID and NFC are vulnerable to skimming*, where an attacker illicitly accesses the information stored in an RFID tag or transmitted via NFC. EMI can also interfere.

# Layer 2 Attacks

### Networking Review

#### OSI Layer 1 & 2

> The OSI model divides networking protocols into 7 layers, but the relevent layers for today are layer 1 (physical) and layer 2 (data link). 

- Layer 1 involves the physical transmission of data between two device, like sending a current through a wire.
- Layer 2 manages the transmission of data between two devices.

#### Switches

> Switches are a type of networking equipment that forward packages to other nodes of the network.

Switches have multiple ports, and so can be connected to multiple machines. For example, you might have a router connected to a switch, and a switch connected to several computers. 

### ARP Poisoning Attacks

#### What is ARP? 

***Address Resolution Protocol*** is a protocol for figuring out what the MAC address associated with an IP address is. 

When a device wants to know the MAC address associated with an IP, it broadcasts a request on it's local network segment, asking "what mac address is associated with `$IP`?" 

- All other devices on the network segment see this broadcast, *but only the device that has the IP is supposed to respond*, providing it's MAC address as a response. 

#### Poisoning ARP

> ARP was not designed with security in mind, and you may be able to see a flaw in how it works:

When a request is sent, only the device with the correct IP is supposed to respond, but there's nothing stopping an attacker from responding instead, providing their MAC address, causing data to be sent to that MAC address instead of the intended recipient.

This is called **ARP poisoning**, and it has a variety of uses, from DoS to man-in-the middle attacks. 

### MAC Attacks

> MAC stands for **Media Access Control**, and is a hardware address given to network interfaces.
> 	They're supposed to be unique, meaning that in theory, no two pieces of hardware will share the same MAC address.
> 	MAC addresses are used by layer 2 protocols to route data to devices.

#### MAC Spoofing

Officially, MAC addresses are split into two 24-bit sections, with the first section identifying the manufacturer and the last 24 bits serving as a unique ID for that manufacturer.

**MAC Spoofing** is NOT a difficult process, and security measures such as keeping a deny-list of MAC addresses can be easily circumvented. **MAC Spoofing** is when an attacker changes their device's MAC address to fool another system into trusting it.

#### MAC Flooding

***MAC Flooding*** is an attack that targets switches on a network. 

**Switches** have multiple ports that devices can connect to, and in order to forward data to its destination, the switch needs to know what MAC addresses correspond with what ports. 

- Switches store this information in their memory. 
	- MAC flooding tries to cause the switch to run out of room for storing MAC Addresses by spamming it with data that claims to be from a large number of different MAC addresses.

# Domain Name System Attacks

> Learn how attackers exploit DNS to maliciously redirect unsuspecting victims.

### Basic Redirection Attacks

> So, an attacker wants to trick someone into visiting a website they don't intend to visit. What options does the attacker have?

#### URL Redirection

**URL Redirection** is a feature of HTTP requests that allow requests to be redirected to a different page. For example, if you attempt to view a page of a website that requires you to log in, you might be redirected to a login page.

- While this has plenty of innocent uses, it can also be used to trick victims into going somewhere they didn't mean to. Setting up this sort of redirection usually requires some sort access to a website that a victim wants to visit, meaning it's of limited utility, but it can be combined with other techniques, like *phishing*

#### Domain Hijacking

Domain Names aren't free: if you want one, you need to register it with a domain registrar and provide an IP address. The domain registrar will then tell the DNS "hey, this domain is now associated with this IP address."

***Domain Hijacking*** is when an attacker takes control of a domain name without the owner's consent, via hacking, social engineering, or just snagging a domain that somebody else forgot to renew.

Domain hijacking doesn't target the DNS, *but is aimed at the domain registrar and sometimes the domain owner.*

***Domain Repudiation*** refers to how much trust the public has in a domain.

- If a domain is compromised, it may be used for spam and scams, decreasing its reputation and getting the domain blacklisted, even if its proper owner is able to regain control.

### DNS Poisoning

> Another way an attacker can send people to websites they don't intend to visit is via interfering with DNS, and causing multiple domain names to point to the wrong IP address.

#### Man in the Middle (On-path)

> Pretending to be a DNS server on a local network. 
> 	Using *ARP poisoning, they can imitate a DNS server and respond to DNS queries with an IP address of their choosing.*

#### Client Cache Poisoning

The **HOSTS file** is a file stored on your computer with a list of domain names and IP addresses.

- This file is still around and is still respected by most OS, allowing for the manual association of domain names and IP addresses on computers. 

If an attacker is able to modify the HOSTS file on a target computer and add a malicious entry, that computer will use the IP address in the HOSTS file, rather than the one provided by DNS, to resolve the associated domain name.

- This is known as **DNS Client Cache Poisoning***.

#### Server Cache Poisoning

> Targets DNS servers themselves, instead of a client.

If an attacker is able to insert malicious data into a server cache for DNS systems, the DNS server will return the falsified result to anyone who requests a compromised domain, at least until the cache is refreshed. 

-  Similar to the method involved in ARP poisoning, this is often accomplished through a combination of Denial of Service and impersonation, though on a much larger scale.

# Wireshark 

> Very few attacks occur which do not leave some type of network trace.

Malicious files may be sent to a command and control server, or accept commands from unauthorized parties. When this occurs, traffic is generated, and evidence is left.

This evidence can be key in helping identify what tools were used in that compromise, when the system was compromised, and, if a threat actor isn't careful, that network data can even disclose information about the attacker.

# Welcome to Cybersecurity Assessment and Research

> Cybersecurity assessment strategies and how to stay up to date on the latest cybersecurity knowledge.

- Identify common threat actors and their vectors
- Know important security concerns organizations need to address
- Understand security assessment strategies
- Explain pen testing techniques
- Intelligence sources

### Threat Actors & Their Attributes

> ***Threat Actor*** is, simply, an individual or group that poses a threat to security. 

A threat actor can be a single person, or a whole group of people. So far, we've been using terms like attacker to refer to any sort of adversary when giving an example, but it's *more common to use "threat actor"*, particularly when there isn't an active attack involved. Threat actors do more than just attack.

Threat actors don't just represent entities actively seeking to harm security: they can also pose a *potential* threat to security. 

- This is important to remember because some threat actors are very, very good at what they do. 
- If you want until you're under attack to fortify against them, it'll be far, far too late..

Threat actors can sometimes be referred to as:

- *Hackers*
- *Attackers*
- *Threat groups*
- *Hacker groups*
- *Adversaries*

### Classification and Attributes

#### Tactics, Techniques and Procedures

The ***NIST Computer Research Center (CSRC)*** uses Tactics, Techniques and Procedures (TTP) to describe threat actor's behaviors:

- **Tactics** are a high-level description of the threat actors behavior: how they go about achieving their goals.
- **Techniques** refer to the tools the threat actor uses in order to accomplish their tactical objective.
- **Procedures** refer to specific implementations of techniques the threat actor uses in the process of achieving their objectives.
#### Attributes to Consider

> It's important to take into consideration these attributes when talking about threat actors:

- Is the threat internal or external? This matters when it comes to access and knowledge
- How sophisticated is the threat actor, and what capabilities to they have? Are they novice hackers, or a group of professionals? Are they working on their own, or do they have the support of organizations?
- What resources to the threat actors have, and how many are they able to devote to targeting you? Are they poorly funded and working independently, or state-sponsored with deep pockets?
- What is the threat actor's goal? Are they in it for the money? Trying to steal sensitive data? There are lots of potential motivations for threat actors.
- How motivated is the threat actor? Are they likely to give up and move on after a couple of failed attempts, or will they persist for as long as it takes to reach their goal?
#### Threat Vectors

> it's also good to consider what threat vectors a threat actor might use:

- *Direct access*
- *Wireless*
- *Email*
- *Supply chain*
- *Social media*
- *Removeable storage*
- *Cloud storage*

# Threat Actors

> We'll look at common types of threat actors in this lesson.
> 	We'll discuss some of their attributes, and what makes them unique and dangerous.

### Human Error

> One of the most common threat actors isn't some shadowy hacker group, but the potential to make mistakes that lies in every one of us. 

- Even though these mistakes aren't intentionally malicious, they still represent an (abstract) threat actor that should be considered when designing systems.

Human error doesn't have any specific targets or objectives - it can strike anytime and anywhere that humans are involved, "attacking" through unpredictable means and with unpredictable results.

> Protecting against human error means designing processes and systems in ways where it is impossible (or at least *very* difficult) for mistakes to have a serious impact.
> 	Human error has caused data breaches, civil engineering disasters, airplane crashes, industrial accidents, and much, much more.

### Script Kiddies

>**Script Kiddies** is a term that refers to inexperienced hackers who lack experience, as well as have a low understanding of hacking and the tools used to do it.

They make use of already existing tools and scripts, without understanding the underlying vulnerabilities that are being exploited.

- The word "kiddie", usually used to refer to a child, is instead used to represent their lack of sophistication.

Modern hacking tools are easy to *acquire, configure and use,* and the *vast majority of vulnerabilities that get exploited in real-world scenarios are known vulnerabilities for which exploits have been developed and distributed.*

Script Kiddies are almost always external threats, with low sophistication and resources. 

- They often have minimal or no funding, and only freely available resources. 
- Their goals can vary, but they usually operate opportunistically and don't have a great deal of motivation.

### Insider Threats

**Insider threats** are threat actors operating within an organization. Insider threats are usually employees but contractors and ex-employees can be considered insider threats too.

*Insider threats usually have elevated access and increased knowledge when compared to external threat actors.*

- This can make them more difficult to detect, and it can give them more options for how to attack the organization. 
- Insider threats can have a *wide* range of sophistication - a disgruntled cashier, for example, will probably not be as sophisticated a threat as a disgruntled security analyst.

*Limiting access to insiders means that a malicious actor will have fewer options available to them, and can do less damage.*

One specific type of insider threat is that of Shadow IT.

**Shadow IT** refers to assets that are part of an organization's network, but aren't set up or managed by IT AND that IT and Security are not aware of. 

- This can be dangerous since unknown assets on an organization's network can create attack vectors that the organization is not aware of until it's too late. 

### Hacker Groups

**Hacker groups** are, as the name suggests, groups of hackers. 

- This is a very broad term, and it can refer to everything from a group of friends who like tinkering with game consoles to state-sponsored threat groups.

These "leftover" groups can have varying degrees of sophistication, resources, goals and motivations, without necessarily having a clearly defined set of tactics.

### Hacktivists

> **Hacktivists** are hackers with an ideology, who strongly believe in a cause and are willing to break the law to further that cause.

Hacktivists are defined by motivation, and this motivation means they can be *very hard to dissuade from a target.*

- If one method doesn't work, they will just try different approaches until something works.

*Defacement, denial of service and leaking confidential information* are all common actions taken by hacktivists. 

### Competitors

> Corporate espionage has existed since at least the 1700's, and the digital era has made it easier than every for unscrupulous organizations to steal trade secrets or sabotage rivals to gain an unfair advantage.

Corporate espionage is usually illegal, so organizations that engage or attempt to engage in it will likely focus on *secrecy and deniability.*

- This means that the tactics they use will probably be more sophisticated than usual, in an attempt to evade detection and attribution. 

### Organized Cybercrime

**Organized cybercrime** generally has a single overarching goal: Money. Financial fraud, data theft, extortion, trafficking and much more. 

These cybercriminals usually represent an external threat, with a wide range of sophistication. Some groups might be relatively inexperienced, while others might be experienced hackers. 

- Likewise, the resources these groups have access to can vary, but they are likely to be higher than what the average person can muster. 

### Cyber Terrorists

> **Cyber terrorists** seek to use hacking to cause large-scale destruction and harm. In some ways, they can be thought of as extremist hacktivists, who seek to use intimidation and destruction to further their cause.

World governments have a history of covertly funding terrorist groups so there's no reason to suspect that the same couldn't be true for cyberterrorists.

Cyber terrorists are likely to target systems that would cause significant damage or loss of life if compromised: Digital or physical infrastructure such as backbone routers, power plants, water treatment plants, hospitals, etc.

### State Actors

**State actors** are some of the most dangerous types of threat actors. 

They are often highly sophisticated and work with the support of their governmental organizations. 

- They have large quantities of resources provided to them by their government, allowing them access to employ skilled hackers, not only to conduct attacks, but search for vulnerabilities to develop into cyberweapons.

State actors are highly motivated, working on behalf of a nation-state. If they decide to target an individual or organization, they have a specific objective in mind and will work very hard to complete that objective while remaining undetected, even in the face of adversity. 

State actors are the quintessential example of an ***Advanced Persistent Threat***: they have advanced capabilities and access to resources and are difficult to dissuade from their objective.

# Threat Actor Case Studies

### Case 1: Gary McKinnon

- Classification: Solo Hacker
- Targets: US Military and government institutions, including NASA and the Department of Defense
- Sophistication: Low to Medium
- Support: None
- Resources: Low
- Objectives: Obtain hidden information on UFOs and alien technology
- Motivation: Personal interest
- Notable TTP: Used commercially available software to compromise poorly secured WIndows machines

Gary was accused of sabotaging military computer and sabotaging munitions supply to the US Navy after 9/11, but supporters claim that these charges have never been brought before a court, and McKinnon himself denies ever acting with malicious intent.

McKinnon was able to locate machines with inadequate security configurations that were easy to hack into and did so without fully covering his tracks.

### Case 2: Anonymous

- Classification: Decentralized hacker/hacktivist group
- Targets: Varies, has included US government and ISIS
- Sophistication: Varies from member to member
- Support: Large number of members, but there is no large-scale coordination or organization
- Resources: Varies
- Objectives: Generally opposes censorship, but different members have different goals
- Motivation: Varies
- Notable TTP: DDoS Attacks, Doxxing, Threats

Anonymous is a decentralized and disorganized hacking collective that anyone can join. This means that it is very difficult to talk about Anonymous as a whole, since the objectives, motivations, targets, and abilities can vary widely from member to member, or subgroup to subgroup.

Anonymous started on the 4chan message boards in 2003, but only became associated with hacktivism in 2008 when members launched Project Chanology: A series of semi-coordinated actions against the Church of Scientology. Since then, members have engaged in many hacktivist causes under the banner of Anonymous.

### Case 3: Double Dragon

- **Classification**: State Actor, APT
- - **Targets**: Healthcare, telecommunications, technology, and video game industries.
- **Sophistication**: Very high
- **Support**: Strongly believed to be associated with the Chinese government.
- **Resources**: Very high; Access to government-developed malware and cyber-espionage tools.
- **Objectives**: Objectives are given to them by their sponsors, personal financial gain.
- **Motivation**: Very High
- **Notable Tactics and Techniques**: Use of passive backdoors, supply-chain attacks, sophisticated malware and rootkits, and spear-phishing.

> Double Dragon (APT41) is a state-sponsored APT group that is strongly believed to be associated with the Chinese government. According to FireEye, "...APT41 is a prolific cyber threat group that carries out Chinese state-sponsored espionage activity in addition to financially motivated activity potentially outside of state control."

The duality of state-sponsored activity and acting for personal financial gain is considered unusual, and this can make it difficult to determine which operations are conducted on behalf of the sponsors, and which are conducted for their own gain.

Double Dragon’s use of passive backdoors distinguishes them from other APT groups, and this type of backdoor is more difficult to detect than a traditional “active” type. Other techniques they are known for are spear-phishing emails and sophisticated malware with stealth capabilities.

# Cloud-Based vs. On-Prem Assets

> When an organization needs a new asset, like a server, they have a choice to make.

- Do they purchase a physical server and install it on-premises, or "on-prem", at one of their facilities?
- Do they rent a cloud-based server from a hosting provider?

***Which is better? Cloud or On-Prem?***

> Both solutions are reasonably secure when configured properly. 

- Cloud based solutions move some of the responsibility for security away from the organization renting the cloud based assets, and onto the CSP.
- Generally speaking, the service provider is responsible for the security of their cloud, and the organization renting the assets is responsible for those assets.

For example, if an attacker compromises a cloud-hosting provider, and is able to access the virtual servers of their clients, that’s the provider’s fault. If the attacker is able to then steal a database of plaintext passwords from the virtual server, that’s the client’s fault.

For organizations without the expertise or resources to properly support the infrastructure required by the asset they need, it might make more sense to go with a cloud based solution.

On the other hand, large organizations with lots of resources and a large pool of expertise may feel they can do a better job of creating robust, secure infrastructure themselves, making on-prem the better option.

### Physical Attacks

> It's hard for an attacker to steal a physical server if there is no physical server to steal. 
> 	With on-prem solutions, an attacker can be fairly confident that there is a physical server to steal, and where that server is located.

Cloud-based systems don't necessarily have the same issue. There is a saying "The cloud is just someone else's computer", but the reality is more complicated. 

- Virtual assets may be split among multiple physical computers, and those physical computers may not have a complete copy of the virtual asset.

### Denial of Service

> DoS attacks on *cloud based assets can be more of a problem* than for on-prem assets.

If a physical server in the same building as you has been overwhelmed by traffic and needs to reset, you can walk over and restart it. 

If a cloud-based server is in the same situation, it may not respond to restart commands, making the process more difficult.

On the other hand, many cloud services offer DoS mitigation, which might make DoS attacks less of an issue than for on-prem assets.
### Larger Attack Surfaces

> Cloud based services have a larger attack surface than on-prem assets. 

For example, if a cloud service provider is targeted by a threat actor, cloud-based assets hosted by that provider might get caught up in the attacks as well. 
### Trust

> 3rd Party Vendors aren't always honest about their services, and it's not unheard of for cloud service providers to overstate their security.

If your organization has excellent security practices, but a cloud service provider you use doesn't, then the assets you have with that service could be at risk.

# Zero-Day and DDoS Attacks

Introduce two unique threats to organizations: zero-day and DDoS attacks.
### Zero Day Attacks

> Newly discovered software bugs that a developer was not aware of before the software was released. 

Therefore, after it was discovered, the developer has "zero days" to patch it before it can be exploited.

- When a zero-day attack occurs, the vulnerability quickly becomes known and is patched by the developer.

> Because zero-days are difficult to discover and exploit, they are often leveraged by nation-state actors, who have the resources and infrastructure to find and exploit these vulnerabilities.
### Finding and Classifying Vulnerabilities

> ***The vast majority of cyberattacks exploit existing vulnerabilities.***

The vulnerabilities are catalogued and numbers as **CVEs** or **"Common Vulnerabilities and Exposures"** and are maintained in places like [the Mitre Corporation’s database](https://cve.mitre.org/) or the [National Vulnerability Database](https://nvd.nist.gov/) (NVD).

Thousands of CVEs are recorded every year and are typically found first by either security companies or researchers participating in companie's bug bounty programs.

**Bug Bounty Programs** offer money to anyone able to find a vulnerability in their systems.

- Once a vulnerability is found, the organizations are able to implement a patch and release a software update as soon as possible. 
- It is much more difficult to attack an organization that keeps it's software up to date. 

### DDoS

> DDoS stands for **Distributed Denial of Service.** A DDoS Attack is when an attacker attempts to make a resource, such as a website's various servers, go offline by overwhelming them with web traffic.

Because an attacker must use a large number of computers, the attack is "distributed" across multiple devices. 

**Where does an attacker get all of these computers from?**

This traffic comes from **botnets**. 

Botnets are "robot networks" made up of computers infected by malware. These botnets can be made up of millions of bots, and can even include IoT devices.

- A single attacker can spread malware to many devices, and then use all of those devices in concert to act together, oftentimes without the victims ever knowing their devices are infected.

- Because botnet services can be rented out to other cybercriminals for specific attacks, anyone with the money to rent a botnet can carry out a DDoS attack.
### Types of DDoS Attacks

> Network connections are defined by layers with each layer responsible for a different part of data transmission. Different types of DDoS attacks target different network players, specifically layers 3, 4 and 7.
> 	Known as the Network, Transport and Application layers

#### HTTP Flooding 

> The attacker sends a lot of HTTP requests, the kinds of requests your browser makes when you visit a webpage.

In effect, it is like refreshing a website over and over, making a server load content until it becomes overwhelmed.

#### SYN Flooding

> Targets the transport layer by taking advantage of the **TCP Handshake**.

Basically, it asks the server to wait for confirmation of a connection, but then never gives that confirmation.

This is like a large group of people all asking the same person to hold something for them, but no one ever takes their items back, until the person holding it becomes overwhelmed.

### Fighting DDoS

> There are a number of ways that websites try to guard against DDoS attacks, for example, by ***rate-limiting***.

- Rate limiting limits the number of requests a server will accept in a single time. 
- CAPTCHAs also provide some protection.
	- Theoretically, CAPTCHA can determine whether a user is a human or a bot, allowing legitimate traffic to attempt to log in while blocking malicious automated traffic.

> It is generally difficult to guard against DDoS attacks, which is when websites seek protection from organizations such as CloudFlare, which provides protection against DDoS by sitting between the server and client.
> 	Cloudflare then forwards legitimate traffic to the server while hiding malicious traffic.

# Weak Configurations

> Learn about weak configurations and the danger they pose to networks.

The vast majority of cyberattacks are preventable, and a key part of preventing attacks is proper configuration.

- In cybersecurity, weak configuration refers to configuration settings that decrease the security of an asset such as a computer or network.

### Host Configurations

#### Open Permissions

**Open permissions** is a type of weak configuration where the *principle of least privilege* is breached, and access to data or applications isn't properly restricted to only those who require it. 

Things like allowing anyone to view senstivie information, or to edit payroll databases can be considered examples of open permissions. 

Depending on what the improperly secured resource is, this can be **very bad**.

**Best practices** to prevent thist ype of weak configuration include:

- Using *role-based access control*
- Implementing a *default-deny* scheme that requires access to be explicitly granted to resources.

#### Unsecured Root Accounts

> **Root accounts** (also known as **superuser** or **admin** accounts) are accounts that have essentially unlimited access to a computer.

Having an attacker gain access to a root account on a computer is known as ***Getting Owned*** (or pwned), and means that the attacker has gained full access to that computer.

Unsecured root access accounts are vulnerable to takeover due to poor security configuration, such as:

- Weak passwords
- Allowing remote logins as root

> **Best practices** to prevent this type of weak config include:

- Heavy restricting access to root accounts
- Disabling remote login as root
- Enforcing strong root passwords
- Using non-root accounts for administration when possible

#### Insecure Default Settings

> Many piece of hardware and software ship with insecure settings by default, which as the name implies, are settings that are insecure by default.

In the worst cases, this can be something like a web server software having "admin/admin" as the admin user password and username combo.

Many insecure default settings are not so obvious, but still pose a threat: Hacking toolkits often have tools designed to identify and exploit vulnerabilities created by insecure default settings.

> **Best practices** to avoid this weak config involve:

- Conducing audits and reviews of configuration settings
- Researching best practices based on the software or hardware in question

### Weak Network Configuration

#### Insecure Protocols

> Not all protocols are created equal, and some are less secure than others. 
> 
> Weak configurations can allow insecure protocols to be used instead of secure alternatives, causing data to be transferred unencrypted and opening up the possibility of interception and man-in-the-middle attacks.

- HTTP instead of HTTPS, for example.

**Best practices** are simply to disallow the use of insecure protocols or to implement a default-deny schema that only allows secure protocols.

#### Weak Encryption

> **Weak encryption** refers to the use of weak encryption algorithm and/or flawed implementation of encryption to secure data.

Algorithms known as mathematical vulnerabilities or that are weak to brute force are considered weak encryption, but an improper key generation or improper distribution and management of keys can also cause weak encryption.

**Best practices** to prevent weak encryption include using up-to-date encryption algorithms that are still considered secure, and using implementations that have been "battle-tested"

#### Revealing Errors

> ***Hacking often involves some element of trial and error.***

Revealing Errors are errors that make this process easier for an attacker, by providing them with useful information. 

For example, an attacker attempting SQL injection would gain much more information from an error that included the name and version of the database software than from an error that said "oops, something went wrong".

**Best Practices** to avoid revealing errors include designing software in such a way that it doesn't reveal sensitive information if/when something goes wrong.

- This doesn't mean the information can't be logged, just that it should be treated as potentially sensitive information.

#### Open Ports and Services

> Computers would be very limited if only one program could communicate over the network at a time, and part of the way this is addressed is through the use of **ports**.
> 
> 	Not physical ports, but virtual ports within protocols like TCP and UDP. 
> 	When a port is open, it means that there is some piece of software on a computer listening for incoming connections on that port.

For example, software hosting a website might be listening on ports 80 (HTTP) and ports 443 (HTTPS)

> ***Open Ports*** can cause or exacerbate security problems. For instance, if an unused piece of software is listening to a port, that software and port can become an **attack vector.** 

Unmonitored ports can also be used by attackers to move around and transfer data undetected. 

Especially for servers that face the outside world, only the ports that need to be open should be open.

**Just make sure you know what the ports are for before you block them.**

- There's usually an overlap between the most misused ports and the most legitimately used ports
# Improper or Weak Patch Management

> learn about good patch management, and how bad patch management can leave you vulnerable to attacks.

### Patch Management and You

In cybersecurity, **patch management** is the process of regularly applying patches (fixes, updates, improvements, etc.) to software, in order to prevent existing vulnerabilities from being exploited.

- Almost all software needs to be patched, from applications to operating systems. 
- Even *firmware* needs to be patched.
#### Why Patch?

> Zero-day vulnerabilities are software vulnerabilities that are not known to the developer when they are exploited. 

Known vulnerabilities are vulnerabilities that are known to the developer, and often have patches available for them.

***Zero-days*** are powerful but rare, often known to a very small group of people, if known about at all.

- Even if you know about a zero-day vulnerability, exploiting it often requires developing an exploit from scratch.
- In comparison, known vulnerabilities are much more accessible and often have exploits already developed for them, lowering the skill barrier required to take advantage of the vulnerability.

*For this reason, the vast majority of vulnerabilities that are exploited in the wild are known vulnerabilities, often ones that have been patched by the software developer.*
### How NOT to do Patch Management

Let's look at some of the ways NOT to do patch management. Obviously, these are things to avoid doing, unless you're designing pen-testing challenges or something.

- **Not apply patches at all**: This one of the simplest and easiest ways to mess up patch management.
- **Don't set up automatic patch management**: Most environments offer some way to automatically handle patch management for you. Some software will even patch itself by default.
	- If you're trying to do bad patch management, you should avoid using automatic patch management whenever possible.
- **Don't Document your Assets**: If you document what assets you have, someone might be able to use that documentation to patch things. If you don't know what you have, it makes it much easier to leave it unpatched.
- **Apply patches equally**: An often-overlooked way to mess up patch management is to patch some, but not all, of your assets. This makes it difficult for anyone trying to patch those assets to figure out which ones need patches and which ones don't.
- **Remove patches**: If someone has brought your assets up-to-date despite your best efforts, you could always remove patches, reintroducing vulnerabilities in the process. This is another great way to let vulnerabilities slip through the cracks, especially if you combine it with *poor documentation.*
### What to do when you cannot patch

> Legacy software is software that is no longer supported or maintained by its developer.
> 
> 	Applications, firmware, and even whole operating systems can become legacy software, and since it won't be patched even if severe vulnerabilities are discovered, it can be incredibly dangerous to use.

The best way to avoid this is to simply *not use legacy software*, but that isn't always a viable option; some organizations rely on legacy software to function, and that software needs to be secured somehow.

Thankfully, patching isn't the only tool in our toolset.

Rather than relying on patching the software, we can use security controls, the principle of least privilege, and techniques such as network segmentation or virtualization to create a secure environment for the legacy software

### Case Study: Wannacry Ransomware

> On April 4th, 2017, an exploit known as ***EternalBlue*** was leaked to the public.

EternalBlue was an exploit developed by the NSA. EternalBlue allowed for remote code execution on vulnerable Windows machines. At the time EternalBlue was leaked, a patch had been available from Microsoft for one month; The NSA had alerted Microsoft to the underlying vulnerability only after the exploit was stolen.

Two months later, in May of 2017, when EternalBlue had been patched for approximately three months, a piece of ransomware known as WannaCry exploded onto the internet. 

Making use of EternalBlue, it spread incredibly quickly, jumping from computer to computer. The initial wave lasted less than 7 hours but infected over 200,000 computers, causing an estimated billions of dollars in damages.

> All due to a vulnerability that had been patched for three months.
# Third-Party Risk Management

> How to effectively measure and mitigate risk for third-party tools.

Have you ever wondered why every company uses some sort of third-party technology for its business operations?

- Well, the reason is that it just makes things easier for the company and its employees. For instance, it makes sense for a large company to use a well-known ticketing system for managing IT issues rather than create a ticketing system from scratch.
- Using third-party tools assists in the operations of the company, but comes with a security risk. 
	- The process of measuring that risk and implementing controls to mitigate it is a cybersecurity practice known as **third-party risk management**. 
### The Building Blocks

Most common elements that are involved in the Third-Party Risk Management process:

- **Vendor Management**
- **System Integration**
- **Supply Chain**
- **Outsourced Code Development**
- **Data Storage**

#### Vendor Management

> A **vendor** is a company that offers its product or service for sale. Each offering comes with its own benefits and risks.

**Vendor Risk** is the risk that is associated with these offerings and it comes in many different forms.

There are many risks to consider, including:

- **Cyber/Compliance**: This type of risk is related to the security posture and compliance of the vendor. If we purchase a product from a vendor that has security issues, we'll be poisoning our own environment once the vendor's product is intergrated. *Adopting a product that isn't compliant with federal regulations is a recipe for disaster.*
- **Reputational**: Imagine that there is a vendor that offers software that your company is interested in. However, you do some research and find out that the company recently had a data breach and was fined millions of dollars for the violation. You decide to avoid purchasing software since the vendor now has a tainted reputation. 
- **Financial**: Any product that a vendor sells will cost money. If we want to integrate a vendor into our environment long-term, we need to make sure we have the budget to pay for it.
	- *Scope Creep* must also be taken into account. Scope creep is when we go over budget due to not pacing the project properly.
- **Performance**: No one likes to pay for a product that does not live up to its expectations. In some cases, vendors don't perform to the standard that they advertised.
	- Also, every vendor must provide some level of technical and administrative support. 
	- If the vendor doesn't support a products, this may cause performance risk as well
#### Risk Assessments

> Before we can even purchase a product from a vendor, we have to dive deep into the risks it can have. 
> 
> 	That's where risk assessments come in. We can use risk assessments to identify the dangers associated with the product and whether or not we want to work with those risks. 
#### Due Diligence

> We we decide to work with a vendor, it's important to note that the relationship is a two-way street. 

We don't want to spend money on a product that doesn't live up to our expectations. 

We also don't want to run into support issues in case something goes wrong with the product.

It's a good idea to always measure the performance of the product and see if it's still worth paying for. Otherwise, we may end up paying for something that can be a complete waste of money.
#### Monitoring

> When purchasing a product from a vendor, we don't want to just set and forget.

We always want to monitor the technology and confirm whether or not it is doing what we need it to do. 

If the product is taking our information and sending it to an unknown server, we want to be able to detect that instantly and shut it down.

Being able to monitor the actions of the tool is important so that we're able to take the necessary action needed if something goes wrong.

### Third-Party System Integration

> Many products offered by vendors allow integration into your current environment. 
> 
> 	For example, if your organization uses GitHub for version control, code scanning tools can integrate with GitHub and access your codebase. 

Although tools for integrations can be useful, they also come with some risks. 

**Third-Party System Integrations** should be closely monitored so that any potential risks are quickly identified and mitigated.

Some common integrations that third-party products provide:

**Data Integration**: When we add our own data into a product, we can call the process data integration. Data leakage is a potential risk of data integration. It is important to verify the vendor has policies in place to protect the data of its clients.

**Application Integration**: This is the most common type of integration. Vendors create products that integrate into our existing tools to make workflows more efficient. As long as the flow of data is secure, we can avoid risk during these integrations.

**Storage Integration**: Whenever we need to store a large amount of our valuable data, we can look to cloud storage providers to get that done. However, integrating cloud storage in our environment can come with the risk of data leakage.
### Supply Chain

> A form of third-party integration that requires more attention due to its complexity is supply chain integration tools. 

When it comes to the supply chain, there are a lot of stakeholders involved and things can get a bit tricky.

Supply chain products allow us to manage all the moving parts while ensuring that there is visibility along every step of the supply chain process.

There are many types of supply chain products that companies use as third-party tools. Some of the most common ones are:

- **Commerical Software**
- **Open Source Software**
- **Physical Products**

> It's a good idea to always monitor your tools and integrations to identify malicious activity and stop it in it's tracks before it gets too late.

### Outsourced Code Development

> A common trend that has surfaced over the years its outsourcing code development. 

Companies hire skilled workers from countries where the cost of labor is low. 

With a lower cost of labor, companies can hire from a larger pool of candidates, which allows them to develop at a much faster pace and launch products more quickly.

- Outsourcing comes at a cost. Managing a team of developers in another country can result in communication breakdowns, including conflicting work styles and expectations. 
- The *biggest danger*, however, is that we run a potential security risk with outsourced code. We're entrusting the intellectual property of our company to a foreign team that may not have aligned security practices in place. 
- Moreover, it can become a challenge to monitor and implement security standards.
### Third Party Data Storage

> Ever since cloud technology became popular, many companies rushed to store their data in the cloud.
> 
> 	This proved to be a cheaper and easier alternative to having your own data centers.
> 	What also became common was the transfer of data from one platform to another.

Many companies share data with vendors and this exchange comes with risk.

The three main risks associated with third-party data storage are:

- **Compliance**: Every data sharing scenario must have an agreement that both parties should adhere to. These agreements as well as compliance with federal regulations are important for fostering a secure third-party data storage agreement.
- **Business Continuity**: A disruption with the vendor may cause a disruption in your business operations. It's important to specify things like SLAs so that your business operations are not negatively impacted.
- **Mobile Device Security**: Many companies have a BYOD policy, also known as *bring your own device*. BYOD can be extremely hard to secure. Mobile devices are portable and easy to carry everywhere, but also easy to lose and access if not secured properly.

> Determining a strong third-party risk management program is the first step in determining how your organization will handle new tools and technology.

It is a good idea to include due diligence and risk assessments in your analysis so that vendors are aware of the risk that their product may bring to your business.
# Threat Hunting

> A proactive defense technique where threats are actively searched for using threat intelligence.
### What is Threat Hunting?

#### Proactive Security

> **Threat Hunting** is a proactive security technique, where defenders will actively search for threats in their systems, guided by ***threat intelligence***.

A good analogy for this would be museum security: Passive security measures might be locked doors or alarms on display cases, while threat hunters would be guards actively patrolling and searching for any intruders that might be present.

The *longer a threat goes undetected in a system, the more damage it can do.*

- By proactively searching for threats, they can be detected before reactive security measures are triggered.
### When to Threat Hunt

> Threat Hunting is relatively costly in terms of resources when compared with many reactive security measures. 
> 
> 	It requires trained security personnel to dedicate their time, and it's important to use that time effectively. 

- For this reason, threat hunting isn't usually done without a particular threat in mind.

***Threat Intelligence*** is information about threats that are targeting or are likely to target an organization, and it is used to determine when threat hunting should be carried out.

- Sources such as advisories or security bulletins are usually good sources for threat intelligence. 
- Threat intelligence can be both that there is a threat (for example, a new type of malware), and specific information about threats (indicators of compromise that malware creates).

For example, if there is a security advisory that an attacker is using a software vulnerability to gain remote access to systems, and your organization uses that software, it might be time for a threat hunt to see if your systems have been compromised in the same way.
### How Threat Hunting Works

#### Intelligence Fusion

> Good security environments will log a lot of data, and that data can be used to search for threats.
> 
> 	However searching this data manually is not practical. Instead, a piece of software called a ***Security Information and Event Management*** tool collects this data and allows that data to be easily searched and queried.

***Intelligence Fusion*** is the process of searching and correlating data from many sources, in order to look for indicators that a threat is present.

- For example, if you know that the malware from before reaches out to a list of IP addresses using certain protocols, you can use intelligence fusion with a SIEM to search all the network logs for traffic that matches those parameters.

***Threat Feeds*** are feeds of threat intelligence that can be used for this type of threat hunting. Often, threat feeds contain information about ***Indicators of Compromise (IOC)*** that indicate a threat is present. 

- The process of intelligence fusion can be automated by combining data logged from the security environment with data from threat feeds.
### Adversarial Hacking

> Threat hunting often involves hacking, and hacking is adversarial. 

Most threats want to avoid detection, and threat actors are people (as opposed to say, malware) are likely to be skilled hackers who will actively attempt to avoid detection.

While Hollywood may depict conflicts between hackers are a contest of typing speed, *it's more akin to a game of hide-and-seek in a darkened warehouse.*

> In cybersecurity, a *maneuver* is a strategy employed by hackers (both attacking and defending) to gain an advantage over the other side. 

An important maneuver for defensive hackers is stealth: *while it may be relatively easy to kick an attacker out of a network temporarily, they can get right back in if the vulnerability they used isn't fixed.* 

- What's more, they may have obtained persistence using backdoors, providing even more ways for them to reenter. 
- Until the security team has developed a remediation plan, it may be best to stay undetected and observe the attacker's actions.
# Vulnerability Scans

> Learn about vulnerability scans: automated scans that search for vulnerabilities and generate reports on their findings.

### What is a Vulnerability Scan?

> A vulnerability scan is an automated scan that searches for vulnerabilities in a network or application. 

As with many tools, they can be used ethically or maliciously, but we'll be focused primarily on their ethical uses today. 

***Vulnerability scanning*** is a very useful tool for defenders to find potential vulnerabilities within their environment before a threat actor does.

Vulnerability scans are often most used for vulnerability assessments, as opposed to threat hunting or penetration testing.

- Some types of vulnerability scans can be *loud and easily detected*, and this can be an *important consideration when trying to remain stealthy.*

### Types of Vulnerability Scans

#### Network vs. Application

> The two main types of vulnerability scanning are ***Network Vulnerability Scanning*** and ***Application Vulnerability Scanning***. 

Network vulnerability scanners are designed to scan hosts on a network, such as computers, smartphones and networking equipment.

- Overall, network scanning can be considered a "general-purpose" type of vulnerability scanning.

Application scanning is more specific, designed to search for vulnerabilities in specific applications or types of applications, such as web apps or database software.
#### Intrusive vs. Non-intrusive

> One important aspect to consider in vulnerability scans is how *intrusive* the scan is.
> 
> 	***Non-intrusive Scanning*** (passive scanning) is passive and doesn't directly interact with targets, while ***Intrusive Scanning*** (active scanning) does actively interact with targets.

**Passive Scanning** involves things like:

- Analyzing network traffic
- Looking for misconfigurations

This approach is less disruptive than active scanning put *provides less information.*

**Active Scanning** involves:

- actively querying the scan targets to obtain information.

This approach provides more information that passive scanning, but consumes network resources and can cause malfunctions in the devices it scans.

- It can also set of security alerts, even when used for legitimate purposes, because of how similar it is to automated attacks.

#### Credentialed vs. Non-credentialed

> Network scans can also be **Credentialed** or **Non-Credentialed**: A non-credentialed scan has no special access to hosts: it may be able to send, receive or inspect packets, but it cannot do anything an unprivileged user on the network couldn't do.

A **Credentialed Scan** is when the scanner is given extra access, similar to the access an insider would have.

- Credentialed scans usually reveal more vulnerabilities, since they have more access, but the vulnerabilities revealed by non-credentialed scans are likely to be more serious since they are accessible even to unprivileged users.
### Processing Reports

#### False Positives and False Negatives

> Vulnerability scanners generate reports of vulnerabilities they find, but before we discuss how these reports are used, we must discuss ***false positives and false negatives***.

Both false negatives and false positives are errors in the results of a scan.

A *false positive* is when the scanner says there is a vulnerability, but there actually isn't one. This can waste the time of security personnel trying to fix a vulnerability that simply doesn't exist.

A *false negative* is when the scanner says there isn't a vulnerability, but there actually is. This means that even if a scan says it found 0 vulnerabilities, that doesn't mean there are no vulnerabilities present.

> Both of these types of errors can cause problems when trying to identify vulnerabilities that need attention. It's important to properly investigate reported vulnerabilities and verify their existence before we take steps to fix them.

One of the easiest ways to do this this is a process called *log review*, where a reported vulnerability is validated by examining relevant system and network logs.

For example, if a scanner reports that a router has a software issue that, among other things causes packets to be duplicated, then you could check network logs for duplicated packets that passed through the router.
#### CVE and CVSS

> if you want to scan for vulnerabilities, you need to know what those vulnerabilities are.
> 
> 	One way we define and track vulnerabilities is with ***CVE (Comon Vulnerabilities and Exposures)***. 

CVE is a list of vulnerabilities with each entry consisting of:

- *A unique identifier*
- *A description of the vulnerability*
- *A list of references for more info*
- *When the entry was added*

This allows us to have a list of vulnerabilities, but it doesn't tell us much about them by itself.

> For more detailed information about vulnerabilities, we have resources like ***CVSS (Common Vulnerability Scoring System)***, which consists of supplemental information provided by **NIST**. 

Entries in CVSS are assigned a score based on their severity, ranging from 0 to 10, with 10 being the most severe. 

This score is based on how easy the vulnerability is to exploit, and how much damage can be done by exploiting it. 

> The most dangerous vulnerabilities are those that are easy to exploit and can do lots of damage. 

**CVE and CVSS** are not just tools for defenders, but also for attackers: to a defender, CVE is a resource that can be used to learn about a vulnerability reported by a scanner, but to an attacker, it can be a *catalog of options for how to compromise a target.*
### Configuration review

Vulnerability scanners don’t just look for known exploits, they also look for configuration issues. In a previous article, we discussed how weak configuration can compromise the security of an environment, and can be just as dangerous as directly vulnerable software. This type of scanning usually requires a credentialed scan and requires the scanner to have information about best practices for configuring the software being scanned.
# SIEM & SOARS

> Learn about SIEMS, a core tool in modern cybersecurity.

### SIEMS 101

#### What are SIEMs

> SIEM is short for ***Security Information and Event Management***. SIEMs are tools used in cybersecurity to aggregate large amounts of information collected from throughout a security environment and present it in a way that useful for security teams.

This data is is used both for *real-time monitoring, as well as analysis* of past events within the environment.

#### How do SIEMs Work?

> Simply put, SIEMs take data from inputs and aggregate it.

Those inputs can be many different things:

- Endpoint security software
- Intrusion detection systems
- Firewalls
- Much more

*If it creates a log, it can probably be fed into a SIEM.*

The process of collecting and combining this log data is referred to as log aggregation.

Once the data has been aggregated by the SIEM, it can be analyzed and cross-referenced. The ability to cross-reference data from many sources is what makes SIEMs so powerful: *suspicious behavior that might go unnoticed on its own can be picked out when combined with info from other sources.*

One particularly useful tool for SIEMs and cybersecurity in general is *packet capture*, where data passing through a network is copied and stored for later analysis.

#### What do We Use SIEMs For?

> SIEMS have two main purposes ***Monitoring and Investigation***.

Monitoring is done in real-time and allows suspicious behavior to be quickly identified.

The investigation is done after the fact, using the data aggregated by the SIEM.

**Monitoring**, in particular, is an incredibly useful tool: You can monitor any data collected by the SIEM, from how much network traffic there is to how many emails are being sent and received each second.

- If there's suddenly a huge spike in emails, it can indicate a large-scale phising campaign.
- If the number of failed logins across the organization spikes, that may indicate someone is trying to brute force credentials.

> When a monitored parameter exits the boundaries of what is normal or expected, the SIEM can create an alert, informing security personnel that their attention is required.

- Well-configured monitoring and alrts can greatly increase the effectiveness of a security team, by directing their attention only to the matters that require it.

SIEMS can also be used for investigation, looking at historical data to figure out exactly what happened during an incident.

- For example, packet captures from a malware attack can be analyzed to determine what IP addresses the malware was communicating with.

Some SIEMs support:

- **UEBA (User and Entity Behavior Analytics)**
- **Sentiment Analysis**

Other advanced tools are available as well to alert for abnormal behavior.
### SOARs

> SIEMs are great, but still require a human in the loop to actually respond to security incidents. SOARs (security orchestration, automation and response) partially remove this requirement. SOARs are very similar to SIEMs, but they can be configured to respond automatically to certain types of incidents.

- This can decrease response time, and help prevent damage while security teams are getting up to speed.
# Pen Testing

> Learn about penetration testing: what it is, how it works and why organizations hire people to break into their stuff.

### What is Penetration Testing?

**Penetration Testing** is the process of identifying an organization's vulnerabilities and providing recommendations to fix them, by breaking into the organization's network environment.

Penetration testing uses the same tools and skills that malicious hackers use, in order to test the security of the environment.

The **environment** is usually networks and computers, but physical pen testers also exist.

Usually, penetration testing is carried out by external groups hired by an organization.
### Why Would You Want That?

> The main benefit of penetration testing is that it gives a realistic test of security measures, without causing the damage of a real cyber attack.

Pentesting can reveal hidden security weaknesses or oversights that otherwise might have gone unnoticed, provide defensive security teams with hands on experience countering an active cyber threat, and direct efforts to improve security.
### How is That Legal?

> Penetration testing is hacking, but it's ***authorized hacking***. Pen testers receive a signed contract from the client called a ***statement of work***, that outlines what they are allowed to do.

It also gives permission to carry out the test.

Without authorization, breaking into an organization's environment is illegal.
### Penetration Testing is Really Cool

Let's be honest, penetration testing is just plain cool. Getting to legally hack into computers and networks is absolutely as cool as it sounds, and while there's a lot more to do than just hacking, it's still a very popular field of cybersecurity.

> One type of penetration testing that's relatively easy to get into is ***bug bounties***, where organizations will give monetary rewards to people who discover bugs or vulnerabilities in software, websites, etc. 

This doesn't mean you should start trying to take down websites willy-nilly though, if you are interested in bug bounty hunting, make sure you understand the rules of what is and isn't allowed for a given bug bounty program.
### The Basics of Pentesting

#### Rules of Engagement

While pen testing does involve hacking, it's not usually an "anything goes" scenario.

Organizations don't normally want pen testers to cause actual damage, just see if they could. *Rules of Engagement* are documents that specify the parameters of the penetration test.

> The **ROE** specifies the goal and scope of the test, as well as specific considerations such as systems that should be considered off-limits. 

These rules are part of the *statement of work*, which should be a legally binding contract signed before any hacking takes place.
#### Attack Profile

> Organizations may want to simulate from various sources, both internal and external. *Attack Profiles* are an important consideration in penetration testing and refer to how much information the pen testers are given about the environment ahead of time. 

- *White-box* pen testing is done with full knowledge of the environment, simulating attacks from knowledgable insiders. This type of pen test can also be used to follow up on discoveries made during other types of testing.
- *Grey-box* pen testing is done with partial knowledge of the environment, simulating an attacker with some insider knowledge. They require some reconnaissance on the part of the pentester.
- *Black-box* pen testing is with no knowledge of the environment, simulating an external attack. The pen tester can only obtain information through reconnaissance.
#### Teams

> While penetration testing is adversarial, it's also a collaborative effort: The people defending the network are just as much a part of the pen test as the people attacking it.

- Rather than saying attackers or defenders, we refer to different groups in the pen test as *teams.*

*Red team* and *Blue team* are the most common type of teams to have, but there are also others.

- *Red team* is the one doing the attacking. They have goals set out in the ROE, such as breaching a specific server and aiming to complete their objective.
- *Blue team* are the defenders. Their goal is to defend the environment and prevent the red team from accomplishing their goals.
- *White Team* is a team that serves are referees. For example, if red team isn't sure whether something they are considering is allowed, or if an actual attack takes place, the white team will be able to provide guidance to stop the exercise completely.
- *Purple Team* is less of a team and more of a methodology. In a purple-team scenario, the red and blue teams meet regularly to discuss how the pen test is going. This diminishes the adversarial nature of the exercise but can be used for teaching the blue team about defense.
### How it's done: the PTES

The ***Pen Testing Execution Standard (PTES)*** is a standard for conducting penetration testing. It is divided into 7 phases, with some phases forming a loop that continues until the exercise comes to an end.
#### Phase 1: Pre-Engagement

> This phase is collaborative between the client and pentester, with the goal of tailoring the pen test to the clients needs.
> 	The ROE should be defined during this phase, based on the purpose of the pen test, practical restrictions, etc.

While this part isn't very interesting from a cybersecurity perspective, it's crucially important in delivering a pen test that meets the client's needs. 
#### Phase 2: Intelligence Gathering

> This phase is about gathering information about the target.
> 
> 	In black and grey-box testing, this means using passive and active reconnaissance techniques. 
#### Phase 3: Threat Modeling

> Once this information has been obtained, that information is used to determine what potential targets should actually be targeted.

This involves:

- Determining how valuable a potential target is
- How difficult it would be to target
- The capabilities of the adversary the pen test is trying to simulate
#### Phase 4: Vulnerability Assessment

> With a target in mind, the red team now decides to attack it. Using the information gathered in phase 2, and prioritizing targets chosen in phase 3, the red team will look for vulnerabilities to exploit in order to advance their goal.
#### Phase 5: Exploitation

> Actually exploiting the found vulnerabilities.

This can be done many different ways:

- Metasploit
- Custom pre-existing exploits
- Developing new exploits
#### Phase 6: Post-Exploitation

> Once an exploit is completed, there's still work to do. Here are some of the key activities that take place in the post exploitation phase:

- *Obtaining persistence* - the ability to maintain access even if the initial attack vector is closed
- *Privilege Escalation* - Exploiting some vulnerabilities to increase one's access in the environment
- *Clean-up* - Removing evidence of the exploit
- *Pivoting* - Using the access gained in the exploitation phase to repeat phases 2-6. For example, the red team might compromise an IT worker's computer, then use stored credentials to pivot to a web server that they had not been able to access before. Also called *lateral movement*.
#### Phase 7: Reporting

> Throughout the pen test, the pen testers should be documenting everything they do. In this phase, the information they collect is turned into a report for the client: Every vulnerability, every recommendation, etc.

Remember, the purpose of a pen test is to improve the client's security, so this is a crucial step, albeit less exciting that some of the others.
# Passive and Active Reconnaissance

> Learn about passive and active reconnaissance: the methods used to gather information by both pen testers and malicious threats.

### What is reconnaissance?

***Reconnaissance*** is the process of acquiring knowledge about a target.

That target might be a computer, a network, or a future victim of a social engineering attack.

- Reconnaissance can be *passive* or *active*, depending on how it acquires information.

***Active Reconnaissance*** involves actively interacting with the target. For example, a hacker performing active reconnaissance on a server might send unusualy packets to that server, to try and get a response containing information. 

***Passive Reconnaissance*** does NOT involve actively interacting with the target. 

- Instead of sending packets to a server, a hacker might observe the traffic on the server, instead of sending traffic themselves.
### Passive Reconnaissance Techniques

#### OSINT

***Open-source intelligence (OSINT)*** is a reconnaissance that uses publicly available information. There is an alarming amount of information floating around on the internet that can be of use to threat actors. 

- For example, a threat targeting an organization might collect  information on employees such as their name, social media accounts, email addresses, etc. 
- They might also be able to find out technical information, from what hardware vendors the organization uses to what brand of elevators they have in their office building.

OSINT relies heavily on social media platforms and search engines to find information. 
#### Footprinting

> ***Footprinting*** (sometimes also referred to as "fingerprinting") is the process of determining what software a network host is running. 

This is very useful information for an attacker, and footprinting can done *both passively and actively*. 

Passive footprinting involves observing traffic that a target receives and how it responds to it. 
### Active Reconnaissance Techniques

#### Social Engineering

> Social Engineering can be a useful tool for reconnaissance, in some ways serving as an active counterpart to OSINT.

The ethics of social engineering in a penetration test can be complicated, but most real threat actors have no such qualms, and it's important for personnel to be able to defend themselves against social engineering attacks.
#### Footprinting (Active Version)

> The active version of footprinting involves sending data to the target, and observing how it responds. 

One common example of this is port scanning with tools like Nmap, which is a powerful and versatile tool for pen testing. Active footprinting provides a more detailed and complete picture of the network or host's configuration, but well-configured environments will attempt to detect and alert when this scanning occurs.
#### War Driving

> ***Hybrid digital/physical technique*** where an attacker will drive around, scanning for Wi-Fi networks. 

In pen testing, this can be used to create maps of network coverage, and search for insecure networks. 

The information collected from this can be used for wifi attacks like R***ogue Access Points or Evil Twin Attacks.***
#### Drones and UAVs

> As drones and UAVs get cheaper and more accessible, they become and increasingly popular tool for hackers.

One of the simplest uses for drones is *War flying*, which is just war driving but using a drone instead of a car. 
#Intelligence Sources

 Intelligence Sources

> Presenting a list of threat intelligence sources, conventional and unconventional.
### Conventional Sources

#### Threat Intelligence Providers

> For organizations that don't want to conduct their own primary research, **Threat Intelligence Providers** are an excellent source of threat intel.

These are organizations that conduct threat research, and provide their findings to clients, often as feeds that can be used in SIEMS.
#### Vendor Websites

Vendors will often provide threat intelligence relating to their own products and services for free. 

- For example, if a piece of software is discovered to have a major vulnerability, the software vendor will usually have information about it on their website, once they are aware of it. 
#### Information Sharing Centers

Some industries have **Information Sharing and Analysis Centers**, which are places to share threat intelligence and best practices. 

- These are often specific to a given industry or sector, such as aviation or finance.
#### OSINT

> **Open-Source Intelligence** can be a good way to get threat intelligence, and some companies make their data publicly available. 

- Lists of known spammers, malware and virus signatures, and more are all publicly available.
### Unconventional Sources

> While conventional sources are good for getting packaged threat information, there are other places you can look for threat intelligence as well. These are often less cleanly presented than conventional sources, but can have information that hasn't made it to the conventional sources yet. 
#### Academic Journals

Security researchers, especially those in academic or nonprofit organizations, will publish papers in academic journals. 

These papers can contain information that isn't widely known yet, about new exploits, techniques or disoveries.
#### Social Media

Social media and blogs can be a good source of threat intelligence. Security researchers and other industry professionals will often discuss current events or new research.
#### RFCs

> **Request for Comment** are essentially documents that define how the internet works, propose how it should work, or provide important information - including security considerations and best practices.
#### Security Conferences

Security conferences are gatherings of security professionals, and usually include talks about everything from cybercrime trends to cutting edge exploitation and vulnerability techniques. 

- These conferences can be a good source of information about developing threats.
# The Ever-Changing Cybersecurity Landscape

> How cybersecurity constantly evolves and changes, and why we need to stay on top of it. 
### Introduction

Cybersecurity is changing and expanding, now faster than ever before. As computers continue to integrate themselves into our everyday lives, both the scope and importance of cybersecurity increases. 

We have reached a point where lines between physical defense and digital defense are disappearing. 

Cyber attacks are now capable of disrupting transport networks, power grids, medical equipment, communications and more.

> Cybersecurity isn't just a matter of protecting computers anymore: It's about protecting ourselves and our societies.
### A Brief History

Cybersecurity got its start in the 1960s when computers really started to become connected and shared. Things that we take for granted, like the idea of password-based authentication, were applied to computers during this time.

The 1970s saw the development of the first computer worm, spreading rapidly over a primitive internet that had been totally unprepared for such an event. Security wasn’t the main design concern in hardware or software yet, and some decisions made in this era continue to have a security impact today.

The 1980s saw the formation of the modern internet and catalyzed the further development of cybersecurity. The first state-sponsored cyberattack occurred in this era, as did the creation of the first serious piece of malware. All of a sudden, people started to realize the importance of security.

In the 1990s, computer viruses spread like never before, fueled by the rise in home computer ownership, and catalyzing the creation of the antimalware industry. The increased connectivity also meant that hacking tools started to become more accessible, as people showed off what they had made, and even people who lacked the skills to create their own tools could use those provided by others.

The 2000s saw a rise in coordinated attacks, often resulting in data breaches. Organized cybercrime grew rapidly, as hackers realized there was real money to be made through theft and extortion. Simultaneously, our increased reliance on computers for things like payment processing meant that there were harsher consequences for organizations that suffered cyberattacks, from fines to reputational loss.

The 2010s saw the rise of cyberweapons and an increase in state-sponsored attacks. Stuxnet, discovered in 2010, was a piece of malware that physically destroyed Iranian nuclear centrifuges. Severe, global cyberattacks like Wannacry and NotPetya caused billions of dollars in damage, and severe data breaches such as Equifax and Yahoo highlighted the increasing danger of poor security.
### The Modern Era

#### The Future of Warfare

On February 24th, 2022, the Russian Federation invaded Ukraine. In response, hackers from all over the world, many under the banner of Anonymous, started launching cyberattacks on Russia and its allies.

There were many small attacks over the first two weeks, such as vandalizing government websites, but there were also more serious actions. Members of the Russian government were doxxed, footage of Russian war crimes was broadcast on Russian TV channels, and Russia’s control over their spy satellites was allegedly disrupted by attacks on Roscosmos, the Russian Space Agency. Massive crowdsourced OSINT campaigns provided Ukraine with intelligence such as the location of Russian troops and artillery positions. Amateur radio operators in Ukraine jammed Russian communications.

Even just these, the operations that are currently public knowledge, are significant. Cybersecurity, which was once a matter of preventing computers from being susceptible to worms written as a practical joke, now has an impact on the course of the war.
### Esoteric Topics

> Modern cybersecurity has some really weird aspects, which are fascinating, but are too advanced, complex or rarely used to warrant detailed discussion in other parts of this course. 

As the course draws to a close, let's look at some interesting topics that didn't fit into other lesson:

- *Side-channel data exfiltration from air-gapped computers*: An air-gapped computer is a computer that has no network connection. You might think this would make it impossible to exfiltrate data without physical access to the computer, but you would be wrong. One technique developed by researchers at Ben-Gurion university allows for data exfiltration through means such as *modulating the power consumption of a computer*, in a way that is detectable when monitoring the power consumption of the building the computer is housed in. Other techniques involve using things like speakers, computer temperature, screen brightness, electromagnetic fields, etc. to transmit data without the need for a network connection.
- *Forensic analysis of RAM using cryogenics*: Forensic analysis of RAM is difficult because interacting with a running computer modifies it's RAM, and turning the computer off clears the RAM. However, by supercooling the RAM, it is possible to freeze (literally and metaphorically) its state, allowing to to be removed for forensic analysis.
- *Discovering hidden instructions in processors*: Some processors have undocumented instructions, with a variety of possible effects. They might do nothing, be used for debugging, cause the processor to HFC, or allow the foundation of processor-level security to be circumvented. Security researcher Christopher Domas gave a presentation on how he was able to exhaustively search the x86 instruction set for hidden instructions.




















